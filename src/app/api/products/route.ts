import { NextResponse } from "next/server";

import { Product } from "@/types";

const products: Product[] = [
  {
    id: 1,
    title: "NVIDIA RTX 5090",
    description: "32 Go GDDR7 - Nouvelle génération",
    price: 2499,
    imageUrl: "/assets/5000-gen/rtx-5090.webp",
    inStock: false,
  },
  {
    id: 3,
    title: "NVIDIA RTX 5080",
    description: "20 Go GDDR7 - Gaming nouvelle génération",
    price: 1599,
    imageUrl: "/assets/5000-gen/rtx-5080.webp",
    inStock: false,
  },
  {
    id: 4,
    title: "NVIDIA RTX 5070 Ti",
    description: "16 Go GDDR7 - Performance/Prix optimal",
    price: 999,
    imageUrl: "/assets/5000-gen/rtx-5070-ti.jpg",
    inStock: false,
  },
  {
    id: 5,
    title: "NVIDIA RTX 5070",
    description: "16 Go GDDR7 - Gaming 4K accessible",
    price: 799,
    imageUrl: "/assets/5000-gen/rtx-5070.jpg",
    inStock: false,
  },
  {
    id: 6,
    title: "NVIDIA RTX 5060 Ti",
    description: "12 Go GDDR7 - Gaming 2K nouvelle gen",
    price: 599,
    imageUrl: "/assets/5000-gen/rtx-5060-ti.jpg",
    inStock: false,
  },
  {
    id: 7,
    title: "NVIDIA RTX 5060",
    description: "12 Go GDDR7 - Gaming 1440p abordable",
    price: 499,
    imageUrl: "/assets/5000-gen/rtx-5060.webp",
    inStock: false,
  },
  {
    id: 8,
    title: "NVIDIA RTX 4090",
    description: "24 Go GDDR6X - Performances ultimes",
    price: 1999,
    imageUrl: "/assets/4000-gen/rtx-4090.jpg",
    inStock: true,
  },
  {
    id: 9,
    title: "NVIDIA RTX 4080 SUPER",
    description: "16 Go GDDR6X - Gaming haut de gamme",
    price: 1399,
    imageUrl: "/assets/4000-gen/rtx-4080-super.webp",
    inStock: true,
  },
  {
    id: 10,
    title: "NVIDIA RTX 4080",
    description: "16 Go GDDR6X",
    price: 1299,
    imageUrl: "/assets/4000-gen/rtx-4080.jpg",
    inStock: false,
  },
  {
    id: 11,
    title: "NVIDIA RTX 4070 Ti SUPER",
    description: "16 Go GDDR6X - Nouveau",
    price: 999,
    imageUrl: "/assets/4000-gen/rtx-4070-ti-super.jpg",
    inStock: true,
  },
  {
    id: 12,
    title: "NVIDIA RTX 4070 Ti",
    description: "12 Go GDDR6X",
    price: 899,
    imageUrl: "/assets/4000-gen/rtx-4070-ti.jpg",
    inStock: true,
  },
  {
    id: 13,
    title: "NVIDIA RTX 4070 SUPER",
    description: "12 Go GDDR6X - Excellent rapport qualité/prix",
    price: 799,
    imageUrl: "/assets/4000-gen/rtx-4070-super.jpg",
    inStock: true,
  },
  {
    id: 14,
    title: "NVIDIA RTX 4070",
    description: "12 Go GDDR6X",
    price: 699,
    imageUrl: "/assets/4000-gen/rtx-4070.jpg",
    inStock: true,
  },
  {
    id: 15,
    title: "NVIDIA RTX 4060 Ti 16GB",
    description: "16 Go GDDR6 - Gaming 1440p",
    price: 599,
    imageUrl: "/assets/4000-gen/rtx-4060-ti-16g.jpg",
    inStock: true,
  },
  {
    id: 16,
    title: "NVIDIA RTX 4060 Ti",
    description: "8 Go GDDR6",
    price: 499,
    imageUrl: "/assets/4000-gen/rtx-4060-ti.jpg",
    inStock: true,
  },
  {
    id: 17,
    title: "NVIDIA RTX 4060",
    description: "8 Go GDDR6 - Gaming 1080p",
    price: 399,
    imageUrl: "/assets/4000-gen/rtx-4060.jpg",
    inStock: true,
  },
  {
    id: 18,
    title: "NVIDIA RTX 3090 Ti",
    description: "24 Go GDDR6X - Performance ultime gen précédente",
    price: 999,
    imageUrl: "/assets/3000-gen/rtx-3090-ti.jpg",
    inStock: true,
  },
  {
    id: 19,
    title: "NVIDIA RTX 3090",
    description: "24 Go GDDR6X - Créativité et Gaming",
    price: 899,
    imageUrl: "/assets/3000-gen/rtx-3090.jpg",
    inStock: true,
  },
  {
    id: 20,
    title: "NVIDIA RTX 3080 Ti",
    description: "12 Go GDDR6X - Gaming premium",
    price: 799,
    imageUrl: "/assets/3000-gen/rtx-3080-ti.jpg",
    inStock: true,
  },
  {
    id: 21,
    title: "NVIDIA RTX 3080",
    description: "10 Go GDDR6X - Gaming 4K",
    price: 699,
    imageUrl: "/assets/3000-gen/rtx-3080.png",
    inStock: true,
  },
  {
    id: 22,
    title: "NVIDIA RTX 3070 Ti",
    description: "8 Go GDDR6X - Performance 1440p",
    price: 599,
    imageUrl: "/assets/3000-gen/rtx-3070-ti.jpg",
    inStock: true,
  },
  {
    id: 23,
    title: "NVIDIA RTX 3070",
    description: "8 Go GDDR6 - Gaming équilibré",
    price: 499,
    imageUrl: "/assets/3000-gen/rtx-3070.jpg",
    inStock: true,
  },
  {
    id: 24,
    title: "NVIDIA RTX 3060 Ti",
    description: "8 Go GDDR6 - 1440p abordable",
    price: 399,
    imageUrl: "/assets/3000-gen/rtx-3060-ti.jpg",
    inStock: true,
  },
  {
    id: 25,
    title: "NVIDIA RTX 3060",
    description: "12 Go GDDR6 - Gaming accessible",
    price: 329,
    imageUrl: "/assets/3000-gen/rtx-3060.jpg",
    inStock: true,
  },
  {
    id: 26,
    title: "NVIDIA RTX 2080 Ti",
    description: "11 Go GDDR6 - Haut de gamme génération Turing",
    price: 499,
    imageUrl: "/assets/2000-gen/rtx-2080-ti.jpg",
    inStock: true,
  },
  {
    id: 27,
    title: "NVIDIA RTX 2080 SUPER",
    description: "8 Go GDDR6 - Performance boostée",
    price: 449,
    imageUrl: "/assets/2000-gen/rtx-2080-super.jpg",
    inStock: true,
  },
  {
    id: 28,
    title: "NVIDIA RTX 2080",
    description: "8 Go GDDR6 - Gaming haut de gamme",
    price: 399,
    imageUrl: "/assets/2000-gen/rtx-2080.jpg",
    inStock: true,
  },
  {
    id: 29,
    title: "NVIDIA RTX 2070 SUPER",
    description: "8 Go GDDR6 - Excellente alternative",
    price: 369,
    imageUrl: "/assets/2000-gen/rtx-2070-super.png",
    inStock: true,
  },
  {
    id: 30,
    title: "NVIDIA RTX 2070",
    description: "8 Go GDDR6 - Gaming QHD",
    price: 329,
    imageUrl: "/assets/2000-gen/rtx-2070.jpg",
    inStock: true,
  },
  {
    id: 31,
    title: "NVIDIA RTX 2060 SUPER",
    description: "8 Go GDDR6 - Performance 1080p/1440p",
    price: 299,
    imageUrl: "/assets/2000-gen/rtx-2060-super.jpeg",
    inStock: true,
  },
  {
    id: 32,
    title: "NVIDIA RTX 2060",
    description: "6 Go GDDR6 - Ray Tracing accessible",
    price: 269,
    imageUrl: "/assets/2000-gen/rtx-2060.jpg",
    inStock: true,
  },
  {
    id: 33,
    title: "NVIDIA GTX 1080 Ti",
    description: "11 Go GDDR5X - Haut de gamme Pascal",
    price: 299,
    imageUrl: "/assets/1000-gen/gtx-1080-ti.png",
    inStock: true,
  },
  {
    id: 34,
    title: "NVIDIA GTX 1080",
    description: "8 Go GDDR5X - Excellente pour la 1440p",
    price: 249,
    imageUrl: "/assets/1000-gen/gtx-1080.jpg",
    inStock: true,
  },
  {
    id: 35,
    title: "NVIDIA GTX 1070 Ti",
    description: "8 Go GDDR5 - Performances proches de la 1080",
    price: 229,
    imageUrl: "/assets/1000-gen/gtx-1070-ti.jpg",
    inStock: true,
  },
  {
    id: 36,
    title: "NVIDIA GTX 1070",
    description: "8 Go GDDR5 - Gaming QHD confortable",
    price: 199,
    imageUrl: "/assets/1000-gen/gtx-1070.webp",
    inStock: true,
  },
  {
    id: 37,
    title: "NVIDIA GTX 1060 6GB",
    description: "6 Go GDDR5 - Full HD fluide",
    price: 149,
    imageUrl: "/assets/1000-gen/gtx-1060-6gb.jpg",
    inStock: true,
  },
  {
    id: 38,
    title: "NVIDIA GTX 1060 3GB",
    description: "3 Go GDDR5 - Gaming 1080p léger",
    price: 129,
    imageUrl: "/assets/1000-gen/gtx-1060-3gb.jpeg",
    inStock: true,
  },
  {
    id: 39,
    title: "NVIDIA GTX 1050 Ti",
    description: "4 Go GDDR5 - Jeu léger et eSports",
    price: 109,
    imageUrl: "/assets/1000-gen/gtx-1050-ti.jpg",
    inStock: true,
  },
  {
    id: 40,
    title: "NVIDIA GTX 1050",
    description: "2 Go GDDR5 - Gaming entrée de gamme",
    price: 89,
    imageUrl: "/assets/1000-gen/gtx-1050.webp",
    inStock: true,
  },
  {
    id: 41,
    title: "NVIDIA GTX 1030",
    description: "2 Go GDDR5 - Usage multimédia et bureautique",
    price: 69,
    imageUrl: "/assets/1000-gen/gtx-1030.jpg",
    inStock: true,
  },
];

export async function GET(request: Request) {
  const { searchParams } = new URL(request.url);
  const query = searchParams.get("query");

  let filteredProducts = products;

  if (query) {
    const searchTerm = query.toLowerCase();
    filteredProducts = products.filter(
      (product) =>
        product.title.toLowerCase().includes(searchTerm) ||
        product.description.toLowerCase().includes(searchTerm)
    );
  }

  return NextResponse.json(filteredProducts);
}
